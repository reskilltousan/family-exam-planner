# 進行状況メモ（family-exam-planner）

## 完了した主な対応（2025-12-09）
- 週/月カレンダー刷新：Google予定を色分け重ね表示、クリックで詳細ポップオーバー、月曜始まり週ビュー、conflict赤枠表示。
- Google連携UX強化：連携状態/エラー/期限切れバッジ、最終同期時刻・件数表示、再取得・再認可導線を追加。状態取得API `/api/google/state` 追加。
- コンフリクト一覧：mustイベント同士の衝突リストを追加。
- メンバー/タスクUX：メンバー編集・削除（削除時は担当タスク未割当）、family作成API/UI、フィールド内エラー（メンバー/タスク追加、イベント作成）。
- タスク周辺：担当者選択・期日編集・削除確認、ステータス変更、タスク追加時のエラー表示。
- イベントメモ/ジャーナル：イベントごとのメモ追加/閲覧UIあり。
- カレンダー週/月ビューとフィルタUI、メンバー/家族管理UI、Google OAuth開始・状態表示・再認可フローを実装済み。
- P2-1 テンプレ機能：Template/TemplateTask追加、イベント作成時にテンプレタスク自動生成、テンプレ一覧/作成/削除UIとAPI実装。シードに模試/本番A日程/本番B日程テンプレを追加。
- イベント編集導線：詳細パネルからタイトル/日時/重要度/場所/メモ/参加者を編集し保存、イベント削除も可能に。
- Family認証導線：サインアップ（name/email/password）とログインでfamilyIdを取得し選択可能に。登録・ログインAPI追加。
- テンプレタグ/検索：テンプレにタグ付与・検索フィルタを追加、タグ表示バッジを一覧に表示。
- バリデーションUI強化：サインアップ/ログインにフィールド内エラーと入力チェック（必須・長さ）を追加。
- セッション管理（簡易）：ログイン/サインアップ時にCookieへセッション付与し、/api/auth/meと「Cookieから読み込む」ボタンでfamily選択可能。ログアウトAPI/ボタンも追加。

## これから着手する優先順
1. さらなるバリデーション/フォームフィードバック強化
2. コンフリクト検知/一覧の拡張（優先度ソート、対応メモ）
3. テンプレ検索/タグ付け、タスク並び替えUI改善
4. 本格的な認証/セッション管理（JWT/Cookieなど）への拡張検討

## メモ
- テスト: `cd web && npm test` 実行済み（vitest OK）。
- Prismaのpackage.json設定は非推奨警告あり（Prisma 7移行時に対応）。*** End Patch
